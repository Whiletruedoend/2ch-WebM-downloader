# 2ch WebM downloader

### Описание

Небольшая утилита, позволяющая выкачивать файлы из WebM тредов. Специально для тех, кому лень заходить на сайт и вручную чекать треды.

### Возможности
- Загрузка *.webm и *.mp4 файлов
- Постоянный режим работы программы (Non-stop)
- Запоминание и пропуск уже загруженных раннее файлов (дубликатов)
- Сохранение файла по id/имени
- Поддержка работы в трее

### Компиляция сурсов

Для работы нам понадобиться Pyton3, PyQt5 и компановщик в .exe файл (я использовал PyInstaller). Далее загрузим проект и установим необходимые библиотеки:

```sh
git clone https://github.com/Whiletruedoend/WebM-downloader
pip3 install -r requirements.txt
или же (если вдруг не сработало):
python -m pip install -r requirements.txt
```

#### Компиляция меню

Чтобы скомпилировать GUI программы, используем команду:
```sh
pyuic5 F:/Path/To/File/webm_menu.ui -o F:/Path/To/File/webm_menu.py
```
#### Конечная компановка
Чтобы скомпоновать конечный проект в .exe, набираем:
```sh
pyinstaller -F --noconsole --onefile --distpath "F:/Path/To/File/Release/dist" --workpath "F:/Path/To/File/build" --specpath "F:/Path/To/File/Release" --icon="F:/Path/To/File/favicon.ico" "F:/Path/To/File/webm_downloader.py" 
```
При желании можете изменять параметры компановки (см.[тут](https://pythonhosted.org/PyInstaller/usage.html))

**Внимание! PyInstaller может не работать с Python 3.4.x, поэтому используйте другую версию питона (лично я использовал 3.6)**

Примечание: Если по какой-то причине у вас вылетает ошибка [наподобие этой](https://i.imgur.com/Xk6VvRN.png) или [этой](https://i.imgur.com/DHEgyM8.png) (если компануете через cx_Freeze), то попробуйте поставьте другую версию gevent:
```sh
pip3 install --upgrade gevent==1.2.2
```

### Планы на будущее

- Поддержка других имиджборд
- Вынести фильтры поиска тредов в меню
- Настройка количества микропотоков прямо в меню
- Существенная переработка дизайна меню (делал на "и так сойдёт")
- Решение проблемы с ложным запоминанием ещё не скачанных WebM. Сейчас система устроена так, что при получении списка файлов с сайта, он сразу проверяет их всех на наличие в базе данных, затем начинает скачивание. Т.е. если во время режима запоминания вы прервали скачивание, то нескачанные WebM всё равно занесутся в базу данных и при повторном запуске процесса скачиваться не будут.
- Внутренний рефракторинг кода
~~И вообще, надо было всё на шарпах писать~~

### Обратная связь
Если у вас есть какие-то идеи или собственные наработки, или же просто вопросы по поводу работоспособности кода, то вы всегда можете обратиться ко мне по следующим адресам:
- [Telegram](https://t.me/Whiletruedoend)
- [Discord](https://discord.gg/aQ97ndF)

### Скриншоты

![GUI menu](https://i.imgur.com/kXuf731.png)